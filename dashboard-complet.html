<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Los Santos Dept. Nuclear & Power</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Segoe UI', system-ui, sans-serif; 
            background: #0a0a0d;
            color: #d8d8dc;
            overflow: hidden;
        }

        /* Login Page */
        .login-page { display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; position: relative; }
        .login-page.hidden { display: none; }
        .login-glow { position: absolute; width: 400px; height: 400px; border-radius: 50%; background: radial-gradient(circle, rgba(245,166,35,0.2) 0%, transparent 70%); top: 30%; left: 50%; transform: translate(-50%, -50%); pointer-events: none; }
        .login-brand { text-align: center; margin-bottom: 40px; position: relative; z-index: 1; }
        .login-badge { display: inline-flex; align-items: center; gap: 10px; background: rgba(245,166,35,0.1); border: 1px solid rgba(245,166,35,0.2); border-radius: 10px; padding: 8px 16px; margin-bottom: 15px; }
        .login-dot { width: 18px; height: 18px; border-radius: 50%; background: linear-gradient(135deg, #f5a623, #e89b29); box-shadow: 0 0 10px rgba(245,166,35,0.3); }
        .login-badge-text { font-size: 13px; color: #f5a623; font-weight: 600; letter-spacing: 0.8px; text-transform: uppercase; }
        .login-subtitle { font-size: 11px; color: rgba(255,255,255,0.3); text-transform: uppercase; letter-spacing: 2px; }
        .login-box { background: #141418; border: 1px solid rgba(245,166,35,0.08); border-radius: 12px; padding: 30px; width: 350px; position: relative; z-index: 1; }
        .login-title { font-size: 20px; font-weight: 600; margin-bottom: 5px; text-align: center; color: #fff; }
        .login-desc { font-size: 12px; color: rgba(255,255,255,0.4); text-align: center; margin-bottom: 25px; }
        .form-group { margin-bottom: 15px; }
        .form-label { display: block; font-size: 11px; color: rgba(255,255,255,0.4); margin-bottom: 5px; font-weight: 500; }
        .form-input { width: 100%; padding: 10px 12px; border-radius: 7px; background: rgba(255,255,255,0.03); border: 1px solid rgba(245,166,35,0.08); color: #fff; font-size: 13px; outline: none; font-family: inherit; }
        .form-input:focus { border-color: rgba(245,166,35,0.3); }
        .btn-login { width: 100%; padding: 11px; border-radius: 7px; background: linear-gradient(135deg, #f5a623, #e89b29); color: #fff; border: none; font-size: 14px; font-weight: 500; cursor: pointer; font-family: inherit; margin-top: 5px; box-shadow: 0 2px 12px rgba(245,166,35,0.2); }
        .btn-login:hover { box-shadow: 0 4px 16px rgba(245,166,35,0.3); }
        .error-msg { display: none; color: #ef4444; font-size: 12px; margin-top: 10px; text-align: center; }
        .error-msg.show { display: block; }

        /* Dashboard */
        .dashboard { display: none; width: 100vw; height: 100vh; }
        .dashboard.active { display: flex; }
        
        /* Sidebar */
        .sidebar { width: 210px; background: #0e0e11; border-right: 1px solid rgba(245,166,35,0.08); display: flex; flex-direction: column; }
        .sidebar-header { padding: 19px 17px; border-bottom: 1px solid rgba(245,166,35,0.08); }
        .sidebar-brand { display: flex; align-items: center; gap: 8px; margin-bottom: 5px; }
        .sidebar-logo { width: 27px; height: 27px; border-radius: 7px; background: linear-gradient(135deg, #f5a623, #e89b29); display: flex; align-items: center; justify-content: center; box-shadow: 0 0 8px rgba(245,166,35,0.2); }
        .sidebar-logo-dot { width: 12px; height: 12px; border-radius: 50%; background: #fff; }
        .sidebar-text { font-size: 11.5px; font-weight: 700; color: #fff; line-height: 1.2; }
        .sidebar-subtitle { font-size: 8.5px; color: rgba(255,255,255,0.2); text-transform: uppercase; letter-spacing: 1.6px; margin-top: 3px; margin-left: 35px; }
        .sidebar-nav { flex: 1; padding: 13px 8px; overflow-y: auto; }
        .nav-item { display: flex; align-items: center; gap: 9px; padding: 8px 10px; border-radius: 6px; cursor: pointer; margin-bottom: 1px; font-size: 12px; color: rgba(255,255,255,0.4); transition: all 0.15s; }
        .nav-item:hover { background: rgba(245,166,35,0.05); }
        .nav-item.active { background: rgba(245,166,35,0.1); color: #fff; font-weight: 500; }
        .nav-icon { font-size: 14px; }
        .sidebar-user { padding: 11px 8px; border-top: 1px solid rgba(245,166,35,0.08); }
        .user-info { display: flex; align-items: center; gap: 9px; padding: 7px 9px; border-radius: 6px; }
        .user-avatar { width: 29px; height: 29px; border-radius: 6px; background: linear-gradient(135deg, #f5a623, #e89b29); display: flex; align-items: center; justify-content: center; font-size: 11px; font-weight: 600; color: #fff; }
        .user-name { font-size: 11.5px; color: #fff; font-weight: 500; }
        .user-role { font-size: 9px; color: rgba(255,255,255,0.2); }
        .btn-logout { background: none; border: none; color: rgba(255,255,255,0.2); cursor: pointer; font-size: 16px; }

        /* Main */
        .main-content { flex: 1; display: flex; flex-direction: column; overflow: hidden; }
        .topbar { padding: 12px 25px; display: flex; align-items: center; justify-content: space-between; border-bottom: 1px solid rgba(245,166,35,0.08); background: #0a0a0d; }
        .page-title { font-size: 15.5px; color: #fff; font-weight: 600; }
        .page-subtitle { font-size: 11px; color: rgba(255,255,255,0.4); margin-top: 1px; }
        .topbar-actions { display: flex; gap: 7px; }
        .topbar-btn { width: 33px; height: 33px; border-radius: 6px; display: flex; align-items: center; justify-content: center; background: rgba(255,255,255,0.03); border: 1px solid rgba(245,166,35,0.08); cursor: pointer; color: rgba(255,255,255,0.4); font-size: 16px; }
        .content { flex: 1; overflow-y: auto; padding: 21px 25px; }

        /* Stats Grid */
        .stats-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 13px; margin-bottom: 22px; }
        .stat-card { background: #141418; border: 1px solid rgba(245,166,35,0.08); border-radius: 11px; padding: 17px; }
        .stat-label { font-size: 10.5px; color: rgba(255,255,255,0.4); margin-bottom: 5px; }
        .stat-value { font-size: 21px; font-weight: 600; }
        .stat-value.accent { color: #f5a623; }
        .stat-value.green { color: #10b981; }
        .stat-value.warning { color: #ef4444; }
        .stat-value.white { color: #fff; }

        /* Panel */
        .panel { background: #141418; border: 1px solid rgba(245,166,35,0.08); border-radius: 11px; overflow: hidden; margin-bottom: 20px; }
        .panel-header { padding: 13px 17px; display: flex; align-items: center; justify-content: space-between; border-bottom: 1px solid rgba(245,166,35,0.08); }
        .panel-title { font-size: 13px; color: #fff; font-weight: 500; }
        .panel-content { padding: 13px 17px; }
        .empty-state { text-align: center; padding: 36px 18px; color: rgba(255,255,255,0.2); }
        .empty-icon { font-size: 26px; margin-bottom: 9px; opacity: 0.35; }
        .empty-text { font-size: 12px; }

        /* Buttons */
        .btn { display: inline-flex; align-items: center; gap: 6px; padding: 6px 13px; border-radius: 6px; font-size: 11.5px; cursor: pointer; font-family: inherit; border: none; transition: all 0.15s; }
        .btn-primary { background: rgba(245,166,35,0.1); border: 1px solid rgba(245,166,35,0.2); color: #f5a623; }
        .btn-primary:hover { background: rgba(245,166,35,0.15); }

        /* Tables */
        .data-row { display: flex; align-items: center; padding: 11px 0; border-bottom: 1px solid rgba(245,166,35,0.08); }
        .data-avatar { width: 34px; height: 34px; border-radius: 7px; background: rgba(245,166,35,0.1); display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: 600; color: #f5a623; margin-right: 11px; }
        .data-info { flex: 1; }
        .data-name { font-size: 12.5px; color: #fff; font-weight: 500; }
        .data-detail { font-size: 10.5px; color: rgba(255,255,255,0.4); }
        .badge { font-size: 10px; color: #f5a623; background: rgba(245,166,35,0.1); padding: 3px 8px; border-radius: 4px; margin-right: 10px; }
        
        .hidden { display: none !important; }
    </style>
</head>
<body>
    <!-- Login -->
    <div id="loginPage" class="login-page">
        <div class="login-glow"></div>
        <div class="login-brand">
            <div class="login-badge">
                <div class="login-dot"></div>
                <div class="login-badge-text">Los Santos Dept. Nuclear Power</div>
            </div>
            <div class="login-subtitle">Filiale Production</div>
        </div>
        <div class="login-box">
            <div class="login-title">Connexion Direction</div>
            <div class="login-desc">Acc√®s r√©serv√© √† la direction</div>
            <form onsubmit="handleLogin(event)">
                <div class="form-group">
                    <label class="form-label">Identifiant</label>
                    <input type="text" class="form-input" id="username" placeholder="Nom d'utilisateur">
                </div>
                <div class="form-group">
                    <label class="form-label">Mot de passe</label>
                    <input type="password" class="form-input" id="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                </div>
                <button type="submit" class="btn-login">Se Connecter</button>
                <div id="errorMsg" class="error-msg">Identifiants incorrects</div>
            </form>
        </div>
    </div>

    <!-- Dashboard -->
    <div id="dashboard" class="dashboard">
        <div class="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-brand">
                    <div class="sidebar-logo"><div class="sidebar-logo-dot"></div></div>
                    <div>
                        <div class="sidebar-text">Los Santos Dept.</div>
                        <div class="sidebar-text">Nuclear & Power</div>
                    </div>
                </div>
                <div class="sidebar-subtitle">Filiale Production</div>
            </div>
            <div class="sidebar-nav">
                <div class="nav-item active" onclick="showPage('dashboard')"><span class="nav-icon">üìä</span>Tableau de Bord</div>
                <div class="nav-item" onclick="showPage('team')"><span class="nav-icon">üë•</span>√âquipe</div>
                <div class="nav-item" onclick="showPage('contacts')"><span class="nav-icon">‚úâÔ∏è</span>Contacts</div>
                <div class="nav-item" onclick="showPage('commercial')"><span class="nav-icon">üíº</span>Commercial</div>
                <div class="nav-item" onclick="showPage('accounting')"><span class="nav-icon">üíµ</span>Comptabilit√©</div>
                <div id="navAdmin" class="nav-item hidden" onclick="showPage('admin')"><span class="nav-icon">üõ°Ô∏è</span>Administration</div>
            </div>
            <div class="sidebar-user">
                <div class="user-info">
                    <div class="user-avatar" id="userAvatar">AD</div>
                    <div style="flex:1;">
                        <div class="user-name" id="userName">admin</div>
                        <div class="user-role" id="userRole">Directeur</div>
                    </div>
                    <button class="btn-logout" onclick="logout()">üö™</button>
                </div>
            </div>
        </div>
        
        <div class="main-content">
            <div class="topbar">
                <div>
                    <div class="page-title" id="pageTitle">Tableau de Bord</div>
                    <div class="page-subtitle">Aper√ßu g√©n√©ral ‚Äî Los Santos Dept. of Nuclear Power</div>
                </div>
                <div class="topbar-actions">
                    <div class="topbar-btn">üîî</div>
                    <div class="topbar-btn">‚öôÔ∏è</div>
                </div>
            </div>
            <div class="content" id="content"></div>
        </div>
    </div>

    <script>
        const USERS = [{ username: "admin", password: "admin123", grade: "directeur" }];
        const GRADES = {
            directeur: { label: "Directeur", canAdmin: true, canViewDash: true },
            codir: { label: "Co-Directeur", canAdmin: false, canViewDash: false },
            drh: { label: "DRH", canAdmin: false, canViewDash: false },
            manager: { label: "Manager", canAdmin: false, canViewDash: false },
            employee: { label: "Employ√©(e) Production", canAdmin: false, canViewDash: false }
        };

        let currentUser = null;
        let employees = [];
        let contacts = [];
        let expenses = [];
        let partners = [];
        let resources = [];
        let companies = [];

        function handleLogin(e) {
            e.preventDefault();
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            const user = USERS.find(u => u.username === username && u.password === password);
            
            if (user) {
                currentUser = user;
                document.getElementById('loginPage').classList.add('hidden');
                document.getElementById('dashboard').classList.add('active');
                document.getElementById('userName').textContent = user.username;
                document.getElementById('userAvatar').textContent = user.username.substring(0,2).toUpperCase();
                document.getElementById('userRole').textContent = GRADES[user.grade].label;
                if (user.grade === 'directeur') document.getElementById('navAdmin').classList.remove('hidden');
                showPage('dashboard');
            } else {
                document.getElementById('errorMsg').classList.add('show');
                setTimeout(() => document.getElementById('errorMsg').classList.remove('show'), 3000);
            }
        }

        function logout() {
            currentUser = null;
            document.getElementById('loginPage').classList.remove('hidden');
            document.getElementById('dashboard').classList.remove('active');
            document.getElementById('username').value = '';
            document.getElementById('password').value = '';
        }

        function showPage(page) {
            document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
            event.target.closest('.nav-item').classList.add('active');
            
            const titles = {
                dashboard: 'Tableau de Bord',
                team: '√âquipe',
                contacts: 'Contacts',
                commercial: 'Commercial',
                accounting: 'Comptabilit√©',
                admin: 'Administration'
            };
            document.getElementById('pageTitle').textContent = titles[page];

            const content = document.getElementById('content');
            
            if (page === 'dashboard') {
                content.innerHTML = `
                    <div class="stats-grid">
                        <div class="stat-card"><div class="stat-label">Chiffre d'Affaires</div><div class="stat-value accent">$ 0</div></div>
                        <div class="stat-card"><div class="stat-label">B√©n√©fice Net</div><div class="stat-value green">$ 0</div></div>
                        <div class="stat-card"><div class="stat-label">D√©penses Totales</div><div class="stat-value warning">$ ${expenses.reduce((s,e)=>s+e.amount,0).toLocaleString()}</div></div>
                        <div class="stat-card"><div class="stat-label">Employ√©s</div><div class="stat-value white">${employees.length}</div></div>
                    </div>
                    <div class="panel">
                        <div class="panel-header"><div class="panel-title">Activit√© R√©cente</div></div>
                        <div class="panel-content"><div class="empty-state"><div class="empty-icon">üìã</div><div class="empty-text">Aucune activit√© enregistr√©e</div></div></div>
                    </div>
                `;
            } else if (page === 'team') {
                content.innerHTML = `
                    <div class="stats-grid" style="grid-template-columns: repeat(3,1fr);">
                        <div class="stat-card"><div class="stat-label">Employ√©s Actifs</div><div class="stat-value accent">${employees.length}</div></div>
                        <div class="stat-card"><div class="stat-label">En Cong√©</div><div class="stat-value warning">0</div></div>
                        <div class="stat-card"><div class="stat-label">Masse Salariale</div><div class="stat-value green">$ 0</div></div>
                    </div>
                    <div class="panel">
                        <div class="panel-header">
                            <div class="panel-title">Liste des Employ√©s</div>
                            <button class="btn btn-primary" onclick="alert('Fonctionnalit√© √† venir')"><span style="font-size:13px;">+</span> Ajouter</button>
                        </div>
                        <div class="panel-content">
                            ${employees.length === 0 ? '<div class="empty-state"><div class="empty-icon">üë•</div><div class="empty-text">Aucun employ√© enregistr√©</div></div>' : 
                            employees.map(e => `
                                <div class="data-row">
                                    <div class="data-avatar">${e.firstName[0]}${e.lastName[0]}</div>
                                    <div class="data-info">
                                        <div class="data-name">${e.firstName} ${e.lastName}</div>
                                        <div class="data-detail">${e.phone} ¬∑ ${GRADES[e.grade]?.label || e.grade}</div>
                                    </div>
                                    <span class="badge">Actif</span>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            } else if (page === 'contacts') {
                content.innerHTML = `
                    <div class="panel">
                        <div class="panel-header">
                            <div class="panel-title">Annuaire de Contacts</div>
                            <button class="btn btn-primary" onclick="alert('Fonctionnalit√© √† venir')"><span style="font-size:13px;">+</span> Ajouter</button>
                        </div>
                        <div class="panel-content">
                            ${contacts.length === 0 ? '<div class="empty-state"><div class="empty-icon">üìá</div><div class="empty-text">Aucun contact enregistr√©</div></div>' :
                            contacts.map(c => `
                                <div class="data-row">
                                    <div class="data-avatar">${c.name.split(' ').map(n=>n[0]).join('').slice(0,2)}</div>
                                    <div class="data-info">
                                        <div class="data-name">${c.name}</div>
                                        <div class="data-detail">${c.phone}</div>
                                    </div>
                                    <span class="badge">${c.type || 'Client'}</span>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            } else if (page === 'commercial') {
                content.innerHTML = `
                    <div class="stats-grid" style="grid-template-columns: repeat(3,1fr);">
                        <div class="stat-card"><div class="stat-label">Pipeline Total</div><div class="stat-value accent">$ 0</div></div>
                        <div class="stat-card"><div class="stat-label">Partenaires</div><div class="stat-value green">${partners.length}</div></div>
                        <div class="stat-card"><div class="stat-label">Ressources</div><div class="stat-value white">${resources.length}</div></div>
                    </div>
                    <div style="display:grid;grid-template-columns:1.2fr 1fr;gap:16px;">
                        <div class="panel">
                            <div class="panel-header">
                                <div class="panel-title">Partenaires Commerciaux</div>
                                <button class="btn btn-primary" onclick="alert('Fonctionnalit√© √† venir')"><span style="font-size:13px;">+</span> Ajouter</button>
                            </div>
                            <div class="panel-content">
                                <div class="empty-state"><div class="empty-icon">ü§ù</div><div class="empty-text">Aucun partenaire</div></div>
                            </div>
                        </div>
                        <div class="panel">
                            <div class="panel-header">
                                <div class="panel-title">Ressources / Articles</div>
                                <button class="btn btn-primary" onclick="alert('Fonctionnalit√© √† venir')"><span style="font-size:13px;">+</span> Ajouter</button>
                            </div>
                            <div class="panel-content">
                                <div class="empty-state"><div class="empty-icon">üì¶</div><div class="empty-text">Aucune ressource</div></div>
                            </div>
                        </div>
                    </div>
                `;
            } else if (page === 'accounting') {
                content.innerHTML = `
                    <div class="stats-grid" style="grid-template-columns: repeat(3,1fr);">
                        <div class="stat-card"><div class="stat-label">Total D√©penses</div><div class="stat-value warning">$ ${expenses.reduce((s,e)=>s+e.amount,0).toLocaleString()}</div></div>
                        <div class="stat-card"><div class="stat-label">Nb. d'Entr√©es</div><div class="stat-value white">${expenses.length}</div></div>
                        <div class="stat-card"><div class="stat-label">Sous-Cat√©gories</div><div class="stat-value accent">0</div></div>
                    </div>
                    <div class="panel">
                        <div class="panel-header">
                            <div class="panel-title">Journal des D√©penses</div>
                            <button class="btn btn-primary" onclick="alert('Fonctionnalit√© √† venir')"><span style="font-size:13px;">+</span> D√©clarer</button>
                        </div>
                        <div class="panel-content">
                            <div class="empty-state"><div class="empty-icon">üí∞</div><div class="empty-text">Aucune d√©pense d√©clar√©e</div></div>
                        </div>
                    </div>
                `;
            } else if (page === 'admin') {
                content.innerHTML = `
                    <div class="panel">
                        <div class="panel-header">
                            <div class="panel-title">Gestion des Entreprises</div>
                            <button class="btn btn-primary" onclick="alert('Fonctionnalit√© √† venir')"><span style="font-size:13px;">+</span> Ajouter</button>
                        </div>
                        <div class="panel-content">
                            <div class="empty-state"><div class="empty-icon">üè¢</div><div class="empty-text">Aucune entreprise enregistr√©e</div></div>
                        </div>
                    </div>
                    <div class="panel">
                        <div class="panel-header">
                            <div class="panel-title">Gestion des Utilisateurs</div>
                            <button class="btn btn-primary" onclick="alert('Fonctionnalit√© √† venir')"><span style="font-size:13px;">+</span> Ajouter</button>
                        </div>
                        <div class="panel-content">
                            <div class="empty-state"><div class="empty-icon">üë§</div><div class="empty-text">Aucun utilisateur cr√©√©</div></div>
                        </div>
                    </div>
                `;
            }
        }

        console.log('Dashboard complet charg√©!');
        console.log('admin / admin123');
    </script>
</body>
</html>
